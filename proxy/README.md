# 代理模式
> 代理模式是为一个对象提供一个代用品或占位符，以便控制对它的访问

## 保护代理和虚拟代理
保护代理用于控制不同权限的对象对目标对象的访问，但在 JavaScript 并不容易实现保护代理，因为我们无法判断谁访问了某个对象。
而虚拟代理是最常用的一种代理模式,虚拟代理模式(Virtual Proxy)是一种节省内存的技术，它建议创建那些占用大量内存或处理复杂的对象时，把创建这类对象推迟到使用它的时候。
在特定的应用中，不同部分的功能由不同的对象组成，应用启动的时候，不会立即使用所有的对象。在这种情况下，虚拟代理模式建议推迟对象的创建直到应用程序需要它为止。
对象被应用第一次引用时创建并且同一个实例可以被重用。这种方法优缺点并存。

### 应用
 - 合并 HTTP 请求
 - 惰性加载

## 面向对象设计的原则——单一职责原则
单一职责原则指的是，就一个类（通常也包括对象和函数等）而言，应该仅有一个引起它变化的原因。
如果一个对象承担了多项职责，就意味着这个对象将变得巨大，引起它变化的原因可能会有多个。
面向对象设计鼓励将行为分布到细粒度的对象之中，如果一个对象承担的职责过多，等于把这些职责耦合到了一起，这种耦合会导致脆弱和低内聚的设计。
当变化发生时，设计可能会遭到意外的破坏。
职责被定义为“引起变化的原因”。我们在处理其中一个职责时，有可能因为其强耦合性影响另外一个职责的实现。
另外，在面向对象的程序设计中，大多数情况下，若违反其他任何原则，同时将违反开放—封闭原则。

## 代理和本体接口的一致性
  在客户看来，代理对象和本体是一致的， 代理接手请求的过程对于用户来说是透明的，用户并不清楚代理和本体的区别，这样做有两个好处。

 - 用户可以放心地请求代理，他只关心是否能得到想要的结果
 - 在任何使用本体的地方都可以替换成使用代理

## 缓存代理
缓存代理可以为一些开销大的运算结果提供暂时的存储，在下次运算时，如果传递进来的参数跟之前一致，则可以直接返回前面存储的运算结果

### 应用
 - 可复用的复杂计算
 - 缓存ajax异步请求数据

## 实现
高阶函数动态创建

## 开发
代理模式包括许多小分类，在 JavaScript 开发中最常用的是虚拟代理和缓存代理。
虽然代理模式非常有用，但我们在编写业务代码的时候，往往不需要去预先猜测是否需要使用代理模式。
当真正发现不方便直接访问某个对象的时候，再编写代理也不迟